<!doctype html><html lang=en-us dir=ltr><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Tech Notes | Min Soe Han</title><meta name=description content="Personal website of Min Soe Han – sharing tech notes on Linux, Bash, Dash, JavaScript, Hugo, Cloudflare, plus insights on Myanmar Labour Laws, legal articles, and open diary stories."><link rel=canonical href=https://minsoehan.com/tech/><meta property="og:type" content="article"><meta property="og:title" content="Tech Notes | Min Soe Han"><meta property="og:description" content="Personal website of Min Soe Han …"><meta property="og:url" content="https://minsoehan.com/tech/"><meta property="og:site_name" content="Min Soe Han"><meta property="og:image" content="/images/msh-default-photo.png"><meta name=twitter:card content="summary_large_image"><meta name=twitter:title content="Tech Notes | Min Soe Han"><meta name=twitter:description content="Personal website of Min Soe Han …"><meta name=twitter:image content="/images/msh-default-photo.png"><link rel=sitemap type=application/xml title=Sitemap href=/sitemap.xml><link rel=icon type=image/png href=/favicon/favicon-96x96.png sizes=96x96><link rel=icon type=image/svg+xml href=/favicon/favicon.svg><link rel="shortcut icon" href=/favicon/favicon.ico><link rel=apple-touch-icon sizes=180x180 href=/favicon/apple-touch-icon.png><link rel=manifest href=/favicon/site.webmanifest><link rel=stylesheet href=/fonts/material-symbols/outlined.css><link rel=stylesheet href=/fonts/material-symbols/rounded.css><link rel=stylesheet href=/fonts/fontawesome/css/fontawesome.css><link rel=stylesheet href=/fonts/fontawesome/css/brands.css><link rel=stylesheet href=/fonts/fontawesome/css/solid.css><script async src="https://www.googletagmanager.com/gtag/js?id=G-9H7R6FMDJ6"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-9H7R6FMDJ6")</script><link rel=stylesheet href=/css/base.min.3ddb7f47882f79f66381ebd0ffd47bb2fcf1c9161d709d572ea51ebae89af178.css integrity="sha256-Pdt/R4gvefZjgevQ/9R7svzxyRYdcJ1XLqUeuuia8Xg=" crossorigin=anonymous><script src=/js/base.68c7a7926b6ee35fb1c3fc2cf07f8dfa9107d59ac255e9fe9fdf7f88d0d172bc.js integrity="sha256-aMenkmtu41+xw/ws8H+N+pEH1ZrCVen+n99/iNDRcrw=" crossorigin=anonymous></script><link rel=stylesheet href=/css/header.min.89f1703490de606e7d790fe24c046bd072be7572cc5e39e2e47ae0e673669d18.css integrity="sha256-ifFwNJDeYG59eQ/iTARr0HK+dXLMXjni5Hrg5nNmnRg=" crossorigin=anonymous><script src=/js/header.648dd4092c3b846018bd686e7f8f0fe0b899f45311722f1d23ff5a2e9bd1568f.js integrity="sha256-ZI3UCSw7hGAYvWhuf48P4LiZ9FMRci8dI/9aLpvRVo8=" crossorigin=anonymous></script><link rel=stylesheet href=/css/footer.min.e407844c945fec8f835d68fd1a3b39c9faae95a69fa749ddf43c3daf7cd8fcfe.css integrity="sha256-5AeETJRf7I+DXWj9Gjs5yfqulaafp0nd9Dw9r3zY/P4=" crossorigin=anonymous><link rel=stylesheet href=/css/section.min.733d7b28cd69f059e509d630229a65cf5337c277bf4a714a1e62b136c0817cc7.css integrity="sha256-cz17KM1p8FnlCdYwIpplz1M3wne/SnFKHmKxNsCBfMc=" crossorigin=anonymous><link rel=stylesheet href=/css/breadcrumbs.min.00e902ec96cc38f04e0a160ae899b9051183575541063a249295608ea09b6a82.css integrity="sha256-AOkC7JbMOPBOChYK6Jm5BRGDV1VBBjokkpVgjqCbaoI=" crossorigin=anonymous><link rel=stylesheet href=/css/code-header.min.8361ccd8d8cb761d2a78cefca638f94c480c10e289d54c9e82103b45e9f01532.css integrity="sha256-g2HM2NjLdh0qeM78pjj5TEgMEOKJ1UyeghA7RenwFTI=" crossorigin=anonymous><link rel=stylesheet href=/css/pagination.min.9c5ea4cc8ff3d7d4615832a3d931d7bde8a41219b7bf76716a8718528e3236a4.css integrity="sha256-nF6kzI/z19RhWDKj2THXveikEhm3v3ZxaocYUo4yNqQ=" crossorigin=anonymous></head><body><header><div class=row-one><div class=menu-title-search><div id=mobile-menu-button aria-label="Open menu"><svg id="icon-menu" height="24" viewBox="0 -960 960 960" width="24" fill="#eee"><path d="M120-240v-80h720v80H120zm0-2e2v-80h720v80H120zm0-2e2v-80h720v80H120z"/></svg>
<svg id="icon-close" height="24" viewBox="0 -960 960 960" width="24" fill="#eee"><path d="m256-2e2-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224z"/></svg></div><div><a href=/ class=site-title>Min Soe Han</a></div><a href=/search class=main-search-icon><svg height="24" viewBox="0 -960 960 960" width="24" fill="#eee"><path d="M784-120 532-372q-30 24-69 38t-83 14q-109 0-184.5-75.5T120-580t75.5-184.5T380-840t184.5 75.5T640-580q0 44-14 83t-38 69l252 252-56 56zM380-4e2q75 0 127.5-52.5T560-580t-52.5-127.5T380-760t-127.5 52.5T2e2-580t52.5 127.5T380-4e2z"/></svg></a></div></div><div class=row-two><div class=navbar-wrapper><div class=left-box><nav><ul class=main-menu-parents><li><a aria-current=page class=active href=/tech/>Tech</a></li><li><a href=/legal/>Legal<i class="fa-solid fa-chevron-down has-children-indicator"></i></a>
<span class="material-symbols-outlined toggle-child-menu">keyboard_arrow_right</span><ul class=main-menu-children><li><a href=/legal/labor-laws/>Labor Laws</a></li><li><a href=/legal/investment/>Investment</a></li></ul></li><li><a href=/open-diary/>Open Diary</a></li><li><a href=/others/>Others</a></li><li><a href=/about/>About</a></li></ul></nav></div><div class=right-box><a href=https://github.com/minsoehan><i class="fa-brands fa-github"></i></a>
<a href=https://codeberg.org/minsoehan><i class="fa-solid fa-code"></i></a><div><span class=material-symbols-outlined>email</span>&ensp;minsoehan243@gmail.com</div><div><span class=material-symbols-outlined>phone</span>&ensp;+95 9 25 731 3341</div></div></div></div><span id=scrollup><svg height="54" viewBox="0 -960 960 960" width="54" fill="#2f2f2f"><path d="M480-528 296-344l-56-56 240-240 240 240-56 56-184-184z"/></svg></span></header><main><div class=breadcrumbs-wrapper><a href=/>home</a>
<span class=breadcrumbs-divider>></span>
<span>tech</span></div><div class=section><section><h1>Tech Notes</h1><p>This is my personal user-experience notes of using Linux Distributions, GNU softwares, scripting and Web development. The contents such as wikis, commands, codes, etc. on this page and sub pages are supposed to be used by your own consideration at your own risk. So, doing your own research and climbing learning curve is recommended. I am not responsible for anything bad happened to you or your computing system due to using any content from here.</p><article><h2><a href=/tech/mexii/>mexii</a></h2><div class=summary><p>It is simple but innovative and complicated logic. Movement is in new method by pressing <code>Enter</code>. The indicators in the prompt line, <code>@ [0%]:</code> shows the direction, <code>@</code> is downward and <code>#</code> is upward. And <code>0</code> is movement lock off, <code>LOCKED=0</code> and <code>1</code> is movement lock on, <code>LOCKED=1</code>. <code>%</code> is where input letter is to appear. In this script, the chain of variables acting like toggle and relative switches is the best.</p></div><div class=time-readmore><time datetime=2026-02-10T13:06:34+06:30>February 10, 2026</time><div><a href=/tech/mexii/ class=read-more>READ MORE</a></div></div></article><article><h2><a href=/tech/sway-perwindow-kb-layout/>Sway Per-window Keyboard Layout</a></h2><div class=summary><p>In <a href=https://swaywm.org/>Sway</a>, <code>swaymsg -m</code> is to monitor (watch) events. For example, <code>swaymsg -m -t subscribe '["window"]'</code> is to watch (monitor) <strong>window</strong> event in Sway. <a href=https://man.archlinux.org/man/sway.5>Sway (5)</a>, <a href=https://man.archlinux.org/man/sway-ipc.7.en>Sway-ipc (7)</a> and <a href=https://man.archlinux.org/man/swaymsg.1.en>swaymsg (1)</a> man pages are to read.</p><p>Based on event monitoring of <code>swaymsg -m -t subscribe '["window", "input"]'</code>, the following script was written to implement <strong>per-window keyboard layout</strong> in sway.</p><div class=code-header><div class=text>~</div><div class=copy-code-below><i class="fa-solid fa-copy"></i></div><div class=highlight><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#8b949e;font-weight:700;font-style:italic>#!/bin/dash
</span></span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ff7b72>if</span> <span style=color:#ff7b72;font-weight:700>[</span> <span style=color:#a5d6ff>&#34;</span><span style=color:#ff7b72>$(</span>id -u<span style=color:#ff7b72>)</span><span style=color:#a5d6ff>&#34;</span> -eq <span style=color:#a5d6ff>0</span> <span style=color:#ff7b72;font-weight:700>]</span>; <span style=color:#ff7b72>then</span>
</span></span><span style=display:flex><span>    exit <span style=color:#a5d6ff>0</span>
</span></span><span style=display:flex><span><span style=color:#ff7b72>fi</span>
</span></span><span style=display:flex><span>trap <span style=color:#a5d6ff>&#39;rm &#34;$LOGFI&#34;&#39;</span> EXIT
</span></span><span style=display:flex><span>trap <span style=color:#a5d6ff>&#39;exit 0&#39;</span> INT
</span></span><span style=display:flex><span><span style=color:#79c0ff>SCRIPTNAME</span><span style=color:#ff7b72;font-weight:700>=</span><span style=color:#a5d6ff>&#34;</span><span style=color:#ff7b72>$(</span>basename -- <span style=color:#a5d6ff>&#34;</span><span style=color:#79c0ff>$0</span><span style=color:#a5d6ff>&#34;</span><span style=color:#ff7b72>)</span><span style=color:#a5d6ff>&#34;</span>
</span></span><span style=display:flex><span><span style=color:#ff7b72>if</span> pidof -x <span style=color:#a5d6ff>&#34;</span><span style=color:#79c0ff>$SCRIPTNAME</span><span style=color:#a5d6ff>&#34;</span> -o <span style=color:#a5d6ff>&#34;</span><span style=color:#79c0ff>$$</span><span style=color:#a5d6ff>&#34;</span>; <span style=color:#ff7b72>then</span>
</span></span><span style=display:flex><span>    pkill -INT <span style=color:#a5d6ff>&#34;</span><span style=color:#79c0ff>$SCRIPTNAME</span><span style=color:#a5d6ff>&#34;</span>
</span></span><span style=display:flex><span>    exit <span style=color:#a5d6ff>0</span>
</span></span><span style=display:flex><span><span style=color:#ff7b72>fi</span>
</span></span><span style=display:flex><span><span style=color:#79c0ff>MSHTD</span><span style=color:#ff7b72;font-weight:700>=</span>/tmp/minsoehan.msh.9.d
</span></span><span style=display:flex><span><span style=color:#79c0ff>LOGFI</span><span style=color:#ff7b72;font-weight:700>=</span><span style=color:#a5d6ff>&#34;</span><span style=color:#79c0ff>$MSHTD</span><span style=color:#a5d6ff>&#34;</span>/mswaykbd.log
</span></span><span style=display:flex><span><span style=color:#79c0ff>KBID</span><span style=color:#ff7b72;font-weight:700>=</span><span style=color:#a5d6ff>&#34;1:1:AT_Translated_Set_2_keyboard&#34;</span>
</span></span><span style=display:flex><span>mkdir -p <span style=color:#a5d6ff>&#34;</span><span style=color:#79c0ff>$MSHTD</span><span style=color:#a5d6ff>&#34;</span>
</span></span><span style=display:flex><span>echo <span style=color:#a5d6ff>&#34;0:0&#34;</span> &gt; <span style=color:#a5d6ff>&#34;</span><span style=color:#79c0ff>$LOGFI</span><span style=color:#a5d6ff>&#34;</span>
</span></span><span style=display:flex><span>swaymsg -m -t subscribe <span style=color:#a5d6ff>&#39;[&#34;window&#34;, &#34;input&#34;]&#39;</span> | jq -r --unbuffered <span style=color:#a5d6ff>&#39;
</span></span></span><span style=display:flex><span><span style=color:#a5d6ff>    if .change == &#34;close&#34; then
</span></span></span><span style=display:flex><span><span style=color:#a5d6ff>        &#34;CLOSE:&#34; + (.container.id | tostring)
</span></span></span><span style=display:flex><span><span style=color:#a5d6ff>    elif .change == &#34;focus&#34; then
</span></span></span><span style=display:flex><span><span style=color:#a5d6ff>        &#34;FOCUS:&#34; + (.container.id | tostring)
</span></span></span><span style=display:flex><span><span style=color:#a5d6ff>    elif .input.identifier == &#34;&#39;</span><span style=color:#79c0ff>$KBID</span><span style=color:#a5d6ff>&#39;&#34; then
</span></span></span><span style=display:flex><span><span style=color:#a5d6ff>        &#34;KBLCH:&#34; + (.input.xkb_active_layout_index | tostring)
</span></span></span><span style=display:flex><span><span style=color:#a5d6ff>    else
</span></span></span><span style=display:flex><span><span style=color:#a5d6ff>        empty
</span></span></span><span style=display:flex><span><span style=color:#a5d6ff>    end&#39;</span> | <span style=color:#ff7b72>while</span> read -r EVENT; <span style=color:#ff7b72>do</span>
</span></span><span style=display:flex><span>    <span style=color:#79c0ff>TYPE</span><span style=color:#ff7b72;font-weight:700>=</span><span style=color:#ff7b72>$(</span>echo <span style=color:#a5d6ff>&#34;</span><span style=color:#79c0ff>$EVENT</span><span style=color:#a5d6ff>&#34;</span> | cut -d <span style=color:#a5d6ff>&#39;:&#39;</span> -f 1<span style=color:#ff7b72>)</span>
</span></span><span style=display:flex><span>    <span style=color:#79c0ff>VALU</span><span style=color:#ff7b72;font-weight:700>=</span><span style=color:#ff7b72>$(</span>echo <span style=color:#a5d6ff>&#34;</span><span style=color:#79c0ff>$EVENT</span><span style=color:#a5d6ff>&#34;</span> | cut -d <span style=color:#a5d6ff>&#39;:&#39;</span> -f 2<span style=color:#ff7b72>)</span>
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>case</span> <span style=color:#ff7b72>$(</span>echo <span style=color:#a5d6ff>&#34;</span><span style=color:#79c0ff>$EVENT</span><span style=color:#a5d6ff>&#34;</span> | cut -d <span style=color:#a5d6ff>&#39;:&#39;</span> -f1<span style=color:#ff7b72>)</span> in
</span></span><span style=display:flex><span>        <span style=color:#a5d6ff>&#34;CLOSE&#34;</span><span style=color:#ff7b72;font-weight:700>)</span>
</span></span><span style=display:flex><span>            <span style=color:#79c0ff>TODELE</span><span style=color:#ff7b72;font-weight:700>=</span><span style=color:#a5d6ff>&#34;</span><span style=color:#79c0ff>$VALU</span><span style=color:#a5d6ff>&#34;</span>
</span></span><span style=display:flex><span>            ;;
</span></span><span style=display:flex><span>        <span style=color:#a5d6ff>&#34;FOCUS&#34;</span><span style=color:#ff7b72;font-weight:700>)</span>
</span></span><span style=display:flex><span>            <span style=color:#79c0ff>PREEVT</span><span style=color:#ff7b72;font-weight:700>=</span><span style=color:#ff7b72>$(</span>tail -n <span style=color:#a5d6ff>2</span> <span style=color:#a5d6ff>&#34;</span><span style=color:#79c0ff>$LOGFI</span><span style=color:#a5d6ff>&#34;</span> | head -n 1<span style=color:#ff7b72>)</span>
</span></span><span style=display:flex><span>            <span style=color:#79c0ff>PRECTN</span><span style=color:#ff7b72;font-weight:700>=</span><span style=color:#ff7b72>$(</span>echo <span style=color:#a5d6ff>&#34;</span><span style=color:#79c0ff>$PREEVT</span><span style=color:#a5d6ff>&#34;</span> | cut -d <span style=color:#a5d6ff>&#39;:&#39;</span> -f 1<span style=color:#ff7b72>)</span>
</span></span><span style=display:flex><span>            <span style=color:#ff7b72>if</span> <span style=color:#ff7b72;font-weight:700>[</span> <span style=color:#a5d6ff>&#34;</span><span style=color:#79c0ff>$VALU</span><span style=color:#a5d6ff>&#34;</span> -eq <span style=color:#a5d6ff>&#34;</span><span style=color:#79c0ff>$PRECTN</span><span style=color:#a5d6ff>&#34;</span> <span style=color:#ff7b72;font-weight:700>]</span>; <span style=color:#ff7b72>then</span>
</span></span><span style=display:flex><span>                <span style=color:#79c0ff>PREKBL</span><span style=color:#ff7b72;font-weight:700>=</span><span style=color:#ff7b72>$(</span>echo <span style=color:#a5d6ff>&#34;</span><span style=color:#79c0ff>$PREEVT</span><span style=color:#a5d6ff>&#34;</span> | cut -d <span style=color:#a5d6ff>&#39;:&#39;</span> -f 2<span style=color:#ff7b72>)</span>
</span></span><span style=display:flex><span>            <span style=color:#ff7b72>else</span>
</span></span><span style=display:flex><span>                <span style=color:#79c0ff>PREKBL</span><span style=color:#ff7b72;font-weight:700>=</span><span style=color:#ff7b72>$(</span>grep ^<span style=color:#a5d6ff>&#34;</span><span style=color:#79c0ff>$VALU</span><span style=color:#a5d6ff>&#34;</span>: <span style=color:#a5d6ff>&#34;</span><span style=color:#79c0ff>$LOGFI</span><span style=color:#a5d6ff>&#34;</span> | tail -n <span style=color:#a5d6ff>1</span> | cut -d <span style=color:#a5d6ff>&#39;:&#39;</span> -f 2<span style=color:#ff7b72>)</span>
</span></span><span style=display:flex><span>            <span style=color:#ff7b72>fi</span>
</span></span><span style=display:flex><span>            <span style=color:#ff7b72>if</span> <span style=color:#ff7b72;font-weight:700>[</span> -z <span style=color:#a5d6ff>&#34;</span><span style=color:#79c0ff>$PREKBL</span><span style=color:#a5d6ff>&#34;</span> <span style=color:#ff7b72;font-weight:700>]</span>; <span style=color:#ff7b72>then</span>
</span></span><span style=display:flex><span>                <span style=color:#79c0ff>PREKBL</span><span style=color:#ff7b72;font-weight:700>=</span><span style=color:#a5d6ff>0</span>
</span></span><span style=display:flex><span>            <span style=color:#ff7b72>fi</span>
</span></span><span style=display:flex><span>            <span style=color:#79c0ff>NOWKBL</span><span style=color:#ff7b72;font-weight:700>=</span><span style=color:#ff7b72>$(</span>swaymsg -t get_inputs | jq -r --arg id <span style=color:#a5d6ff>&#34;</span><span style=color:#79c0ff>$KBID</span><span style=color:#a5d6ff>&#34;</span> <span style=color:#a5d6ff>&#39;.[] | select(.identifier == $id) | .xkb_active_layout_index&#39;</span><span style=color:#ff7b72>)</span>
</span></span><span style=display:flex><span>            <span style=color:#ff7b72>if</span> <span style=color:#ff7b72;font-weight:700>[</span> <span style=color:#a5d6ff>&#34;</span><span style=color:#79c0ff>$PREKBL</span><span style=color:#a5d6ff>&#34;</span> -ne <span style=color:#a5d6ff>&#34;</span><span style=color:#79c0ff>$NOWKBL</span><span style=color:#a5d6ff>&#34;</span> <span style=color:#ff7b72;font-weight:700>]</span>; <span style=color:#ff7b72>then</span>
</span></span><span style=display:flex><span>                swaymsg input type:keyboard xkb_switch_layout <span style=color:#a5d6ff>&#34;</span><span style=color:#79c0ff>$PREKBL</span><span style=color:#a5d6ff>&#34;</span>
</span></span><span style=display:flex><span>            <span style=color:#ff7b72>fi</span>
</span></span><span style=display:flex><span>            echo <span style=color:#a5d6ff>&#34;</span><span style=color:#a5d6ff>${</span><span style=color:#79c0ff>VALU</span><span style=color:#a5d6ff>}</span><span style=color:#a5d6ff>:</span><span style=color:#a5d6ff>${</span><span style=color:#79c0ff>PREKBL</span><span style=color:#a5d6ff>}</span><span style=color:#a5d6ff>&#34;</span> &gt;&gt; <span style=color:#a5d6ff>&#34;</span><span style=color:#79c0ff>$LOGFI</span><span style=color:#a5d6ff>&#34;</span>
</span></span><span style=display:flex><span>            <span style=color:#ff7b72>if</span> <span style=color:#ff7b72;font-weight:700>[</span> -n <span style=color:#a5d6ff>&#34;</span><span style=color:#79c0ff>$TODELE</span><span style=color:#a5d6ff>&#34;</span> <span style=color:#ff7b72;font-weight:700>]</span>; <span style=color:#ff7b72>then</span>
</span></span><span style=display:flex><span>                sed -i <span style=color:#a5d6ff>&#34;/^</span><span style=color:#a5d6ff>${</span><span style=color:#79c0ff>TODELE</span><span style=color:#a5d6ff>}</span><span style=color:#a5d6ff>:/d&#34;</span> <span style=color:#a5d6ff>&#34;</span><span style=color:#79c0ff>$LOGFI</span><span style=color:#a5d6ff>&#34;</span>
</span></span><span style=display:flex><span>                unset TODELE
</span></span><span style=display:flex><span>            <span style=color:#ff7b72>fi</span>
</span></span><span style=display:flex><span>            ;;
</span></span><span style=display:flex><span>        <span style=color:#a5d6ff>&#34;KBLCH&#34;</span><span style=color:#ff7b72;font-weight:700>)</span>
</span></span><span style=display:flex><span>            <span style=color:#79c0ff>CTNID</span><span style=color:#ff7b72;font-weight:700>=</span><span style=color:#ff7b72>$(</span>swaymsg -t get_tree | jq -r <span style=color:#a5d6ff>&#39;.. | try select(.focused == true) | .id&#39;</span><span style=color:#ff7b72>)</span>
</span></span><span style=display:flex><span>            echo <span style=color:#a5d6ff>&#34;</span><span style=color:#a5d6ff>${</span><span style=color:#79c0ff>CTNID</span><span style=color:#a5d6ff>}</span><span style=color:#a5d6ff>:</span><span style=color:#a5d6ff>${</span><span style=color:#79c0ff>VALU</span><span style=color:#a5d6ff>}</span><span style=color:#a5d6ff>&#34;</span> &gt;&gt; <span style=color:#a5d6ff>&#34;</span><span style=color:#79c0ff>$LOGFI</span><span style=color:#a5d6ff>&#34;</span>
</span></span><span style=display:flex><span>            ;;
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>esac</span>
</span></span><span style=display:flex><span><span style=color:#ff7b72>done</span></span></span></code></pre></div></div><p class=mt3rem>And the following script is to have keyboard layout id on the status bar:</p></div><div class=time-readmore><time datetime=2026-02-10T11:42:06+06:30>February 10, 2026</time><div><a href=/tech/sway-perwindow-kb-layout/ class=read-more>READ MORE</a></div></div></article><article><h2><a href=/tech/mshstatus/>mshstatus</a></h2><div class=summary><p>For me, it took many years to understand trap and signal for immediate updating in status on a bar like swaybar. According to gnu bash manual, it can be understood that <code>sleep [n] &</code> and <code>wait $!</code> is key to implement mechanism of immediate trigger in status blocks. Importantly, <code>wait $!</code> must be right after <code>sleep</code> command with <code>&</code> for going into background, for example, <code>sleep 9 &</code>:</p><div class=code-header><div class=text>~</div><div class=copy-code-below><i class="fa-solid fa-copy"></i></div><div class=highlight><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-bash data-lang=bash><span style=display:flex><span>...
</span></span><span style=display:flex><span>sleep <span style=color:#a5d6ff>9</span> &amp;
</span></span><span style=display:flex><span>wait <span style=color:#79c0ff>$!</span>
</span></span><span style=display:flex><span>...</span></span></code></pre></div></div><p><strong>Note</strong>: <code>$!</code> is process id (pid) of previous command.</p></div><div class=time-readmore><time datetime=2026-01-14T15:38:55+06:30>January 14, 2026</time><div><a href=/tech/mshstatus/ class=read-more>READ MORE</a></div></div></article><article><h2><a href=/tech/awk/>AWK Programming Language</a></h2><div class=summary><p>The awk utility interprets a special-purpose programming language that makes it possible to handle simple data-reformatting jobs with just a few lines of code.</p></div><div class=time-readmore><time datetime=2026-01-13T09:38:32+06:30>January 13, 2026</time><div><a href=/tech/awk/ class=read-more>READ MORE</a></div></div></article><article><h2><a href=/tech/pwa/>Progressive Web App (PWA)</a></h2><div class=summary><p>Progressive Web Apps (PWAs) are web apps built and enhanced with modern APIs to deliver enhanced capabilities, reliability, and installability while reaching anyone, anywhere, on any device, all with a single codebase.</p><h3 class=mt3rem id=reads>Reads</h3><p><a href=https://developers.google.com/codelabs/pwa-in-play#0>https://developers.google.com/codelabs/pwa-in-play#0</a><br><a href=https://web.dev/learn/pwa/>https://web.dev/learn/pwa/</a><br><a href=https://github.com/GoogleChromeLabs/bubblewrap/tree/main/packages/cli>https://github.com/GoogleChromeLabs/bubblewrap/tree/main/packages/cli</a>
<a href=https://developer.mozilla.org/en-US/docs/Web/Progressive_web_apps>https://developer.mozilla.org/en-US/docs/Web/Progressive_web_apps</a></p><h3 class=mt3rem id=steps>Steps</h3><ol><li>Make Website PWA Ready</li><li>Build PWA using <a href=https://github.com/GoogleChromeLabs/bubblewrap>bubblewrap</a></li><li>Signing the App</li></ol><h4 class=mt3rem id=1-make-website-pwa-ready>1. Make Website PWA Ready</h4><p>Create <code>/app.webmanifest</code> file with the following content:</p><div class=code-header><div class=text>/app.webmanufest</div><div class=copy-code-below><i class="fa-solid fa-copy"></i></div><div class=highlight text=/app.webmanufest><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:#7ee787>&#34;name&#34;</span>: <span style=color:#a5d6ff>&#34;MGMAemp&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#7ee787>&#34;short_name&#34;</span>: <span style=color:#a5d6ff>&#34;MGMAemp&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#7ee787>&#34;start_url&#34;</span>: <span style=color:#a5d6ff>&#34;/&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#7ee787>&#34;scope&#34;</span>: <span style=color:#a5d6ff>&#34;/&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#7ee787>&#34;icons&#34;</span>: [
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>      <span style=color:#7ee787>&#34;src&#34;</span>: <span style=color:#a5d6ff>&#34;/favicon/web-app-manifest-192x192.png&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#7ee787>&#34;sizes&#34;</span>: <span style=color:#a5d6ff>&#34;192x192&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#7ee787>&#34;type&#34;</span>: <span style=color:#a5d6ff>&#34;image/png&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#7ee787>&#34;purpose&#34;</span>: <span style=color:#a5d6ff>&#34;maskable&#34;</span>
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>      <span style=color:#7ee787>&#34;src&#34;</span>: <span style=color:#a5d6ff>&#34;/favicon/web-app-manifest-512x512.png&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#7ee787>&#34;sizes&#34;</span>: <span style=color:#a5d6ff>&#34;512x512&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#7ee787>&#34;type&#34;</span>: <span style=color:#a5d6ff>&#34;image/png&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#7ee787>&#34;purpose&#34;</span>: <span style=color:#a5d6ff>&#34;maskable&#34;</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  ],
</span></span><span style=display:flex><span>  <span style=color:#7ee787>&#34;theme_color&#34;</span>: <span style=color:#a5d6ff>&#34;#ffffff&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#7ee787>&#34;background_color&#34;</span>: <span style=color:#a5d6ff>&#34;#ffffff&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#7ee787>&#34;display&#34;</span>: <span style=color:#a5d6ff>&#34;standalone&#34;</span>
</span></span><span style=display:flex><span>}</span></span></code></pre></div></div><p><strong>Suggestion</strong> Online favicon generators like <a href=https://realfavicongenerator.net/>https://realfavicongenerator.net/</a> generates not only favicons, but also <code>site.webmanifest</code> file with PWA basic content:</p></div><div class=time-readmore><time datetime=2025-10-19T09:20:24+06:30>October 19, 2025</time><div><a href=/tech/pwa/ class=read-more>READ MORE</a></div></div></article><article><h2><a href=/tech/image-processing/>Image Processing for Website</a></h2><div class=summary><p>Image processing became essential part of web development nowadays. It is my way of image processing in <a href=https://archlinux.org/>Arch Linux</a> with following steps:</p><ol><li>Resizing big image before optimizing using <a href=https://imagemagick.org/>ImageMagic</a> or <a href=https://ffmpeg.org/>FFmpeg</a></li><li>Optimizing image using:<ul class=mb0><li><a href=https://github.com/tjko/jpegoptim>jpegoptim</a> for JPG</li><li><a href=https://pngquant.org/>pngquant</a> for PNG or</li><li><a href=https://optipng.sourceforge.net/>optipng</a> for PNG or</li><li><a href=https://github.com/oxipng/oxipng>oxipng</a> for PNG or</li><li><a href=https://squoosh.app/>Squoosh</a> or <a href=https://github.com/GoogleChromeLabs/squoosh>Squoosh GitHub</a> of Google for JPG and PNG</li></ul></li><li>Convert image to <code>webp</code> format using <code>cwebp</code> of <a href=https://github.com/webmproject/libwebp>libwebp</a></li></ol><h3 class=mt3rem id=install-required-software-in-arch-linux>Install Required Software in Arch Linux</h3><div class=code-header><div class=text>~</div><div class=copy-code-below><i class="fa-solid fa-copy"></i></div><div class=highlight><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-text data-lang=text><span style=display:flex><span>pacman -S jpegoptim pngquant libwebp libwebp-utils</span></span></code></pre></div></div><h3 class=mt3rem id=resize-image>Resize Image</h3><p>Using <a href=https://imagemagick.org/>ImageMagic</a></p></div><div class=time-readmore><time datetime=2025-10-03T10:16:09+06:30>October 3, 2025</time><div><a href=/tech/image-processing/ class=read-more>READ MORE</a></div></div></article><article><h2><a href=/tech/astro-notes/>Astro Notes</a></h2><div class=summary><h3 id=json-import-type-errors>JSON import type errors</h3><p>When we do:</p><div class=code-header><div class=text>index.astro</div><div class=copy-code-below><i class="fa-solid fa-copy"></i></div><div class=highlight text=index.astro><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-ts data-lang=ts><span style=display:flex><span><span style=color:#ff7b72>import</span> mpps <span style=color:#ff7b72>from</span> <span style=color:#a5d6ff>&#34;../../../content/members/documents/pps-myan/pps-myan.json&#34;</span>;
</span></span><span style=display:flex><span><span style=color:#ff7b72>import</span> epps <span style=color:#ff7b72>from</span> <span style=color:#a5d6ff>&#34;../../../content/members/documents/pps-eng/pps-eng.json&#34;</span>;</span></span></code></pre></div></div><p>VSCode/TS will show red underlines because:</p><ul><li>By default, TypeScript doesn’t always know how to type <code>*.json</code> imports.</li><li>Unless you have <code>"resolveJsonModule": true</code> in your <code>tsconfig.json</code>, VSCode/TS will complain (red underline), even though Astro’s bundler (Vite) will run it fine.</li></ul><p>Fix:</p><div class=code-header><div class=text>tsconfig.json</div><div class=copy-code-below><i class="fa-solid fa-copy"></i></div><div class=highlight text=tsconfig.json><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:#7ee787>&#34;compilerOptions&#34;</span>: {
</span></span><span style=display:flex><span>    <span style=color:#7ee787>&#34;resolveJsonModule&#34;</span>: <span style=color:#79c0ff>true</span>,
</span></span><span style=display:flex><span>    <span style=color:#7ee787>&#34;esModuleInterop&#34;</span>: <span style=color:#79c0ff>true</span>
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}</span></span></code></pre></div></div><h3 class=mt3rem id=combining-layouts-astro-and-md>Combining Layouts, Astro and Md</h3><p>You may want unify them into a single layout by detecting whether the props come from <code>*.astro</code>, an astro page or <code>*.md</code>, a Markdown/MDX page.</p></div><div class=time-readmore><time datetime=2025-10-02T15:23:30+06:30>October 2, 2025</time><div><a href=/tech/astro-notes/ class=read-more>READ MORE</a></div></div></article><article><h2><a href=/tech/reset-local-repo/>Reset Local Repo to Match Remote Repo Exactly</a></h2><div class=summary><p>At any point, you may want to completely reset your local project so it matches the remote repo exactly (discarding any local changes, extra files, etc.).</p><p>Here are the safe ways depending on how “hard” a reset you need:</p><h3 class=mt3rem id=option-1-reset-branch-to-remote-keeps-untracked-files>Option 1: Reset branch to remote (keeps untracked files)</h3><div class=code-header><div class=text>bash</div><div class=copy-code-below><i class="fa-solid fa-copy"></i></div><div class=highlight text=bash><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-text data-lang=text><span style=display:flex><span>git fetch --all
</span></span><span style=display:flex><span>git reset --hard origin/main</span></span></code></pre></div></div><ul><li>Discards local commits</li><li>Resets all tracked files to the remote state</li><li>Leaves untracked files (stuff Git doesn’t know about) in your working directory</li></ul><h3 class=mt3rem id=option-2-reset-branch-and-also-delete-untracked-files>Option 2: Reset branch and also delete untracked files</h3><div class=code-header><div class=text>bash</div><div class=copy-code-below><i class="fa-solid fa-copy"></i></div><div class=highlight text=bash><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-text data-lang=text><span style=display:flex><span>git fetch --all
</span></span><span style=display:flex><span>git reset --hard origin/main
</span></span><span style=display:flex><span>git clean -fd</span></span></code></pre></div></div><ul><li><strong>-f</strong> means force</li><li><strong>-d</strong> means removing untracked directories too</li><li>After this, your working directory (local project repo) matches to the remote repo exactly.</li></ul><h3 class=mt3rem id=option-3-really-start-fresh-nuke--re-clone>Option 3: Really start fresh (nuke & re-clone)</h3><div class=code-header><div class=text>bash</div><div class=copy-code-below><i class="fa-solid fa-copy"></i></div><div class=highlight text=bash><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-text data-lang=text><span style=display:flex><span>cd ..
</span></span><span style=display:flex><span>rm -rf your-project-folder
</span></span><span style=display:flex><span>git clone https://github.com/your-username/your-repo.git
</span></span><span style=display:flex><span>cd your-repo</span></span></code></pre></div></div><ul><li>Above is simplest and cleanest</li><li>This guarantees no leftover files or configs</li><li>Useful if you’ve had a lot of messy local changes</li></ul><h3 class=mt3rem id=originmain-vs-origin-main>origin/main vs origin main</h3><p><code>origin/main</code> is a <strong>ref name</strong> (a branch), single argument.</p></div><div class=time-readmore><time datetime=2025-10-02T13:30:12+06:30>October 2, 2025</time><div><a href=/tech/reset-local-repo/ class=read-more>READ MORE</a></div></div></article><article><h2><a href=/tech/astro-blog-build/>Astro Blog Build</a></h2><div class=summary><p>This is personal record for building a blog site using Astro web framework with Cloudflare integration. Consult with this pages: <a href=https://docs.astro.build/>https://docs.astro.build/</a> and <a href=https://codeberg.org/minsoehan/cloudflare-astro-blog-sample>https://codeberg.org/minsoehan/cloudflare-astro-blog-sample</a> for more details.</p><h4 id=create-cloudflare-worker-with-astro-framework>Create Cloudflare Worker with Astro Framework</h4><div class=code-header><div class=text>terminal command</div><div class=copy-code-below><i class="fa-solid fa-copy"></i></div><div class=highlight text="terminal command"><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-text data-lang=text><span style=display:flex><span>npm create cloudflare@latest -- project-name --framework=astro</span></span></code></pre></div></div><p>When you run this command, C3 creates a new project directory, initiates <a href=https://docs.astro.build/en/tutorial/1-setup/2/>Astro&rsquo;s official setup tool</a>, select <strong>empty template</strong> there, and configures the project for Cloudflare. It then offers the option to instantly deploy your application to Cloudflare.</p></div><div class=time-readmore><time datetime=2025-09-14T13:20:43+06:30>September 14, 2025</time><div><a href=/tech/astro-blog-build/ class=read-more>READ MORE</a></div></div></article><div class=pagination-wrapper><ul class="pagination pagination-default"><li class="page-item disabled"><a aria-disabled=true aria-label=First class=page-link role=button tabindex=-1><span aria-hidden=true>&#171;&#171;</span></a></li><li class="page-item disabled"><a aria-disabled=true aria-label=Previous class=page-link role=button tabindex=-1><span aria-hidden=true>&#171;</span></a></li><li class="page-item active"><a aria-current=page aria-label="Page 1" class=page-link role=button>1</a></li><li class=page-item><a href=/tech/page/2/ aria-label="Page 2" class=page-link role=button>2</a></li><li class=page-item><a href=/tech/page/3/ aria-label="Page 3" class=page-link role=button>3</a></li><li class=page-item><a href=/tech/page/2/ aria-label=Next class=page-link role=button><span aria-hidden=true>&#187;</span></a></li><li class=page-item><a href=/tech/page/3/ aria-label=Last class=page-link role=button><span aria-hidden=true>&#187;&#187;</span></a></li></ul></div><div>&nbsp;</div></section></div></main><footer><div class=wrapper><div class=left-box><a href=/>Min Soe Han</a></div><div class=right-box><p>&copy; All rights reserved by Min Soe Han</p></div></div></footer></body></html>